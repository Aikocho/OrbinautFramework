Коллизия по вертикали (на примере mode 0):

если высота первого тайла в диапазоне 1-15
{
	результирующий тайл = первый тайл
}
если высота первого тайла в текущей точке = 0
{
	взять второй тайл ниже (от Соника)
	результирующий тайл = второй тайл
}
если высота первого тайла в текущей точке = 16
{
	взять второй тайл выше (к Сонику)
	проверочный тайл = второй тайл
	если высота проверочного тайла в текущей точке = 0
	{
		результирующий тайл = первый тайл
	}
	иначе
	{
		результирующий тайл = второй тайл
	}
}

если результирующий тайл = второй тайл
{
	если результирующий тайл платформенный
	{
		высота результируещего тайла = 0
	}
}

дистанция = расстояние от сенсора до края результирующего тайла (считая с его нижнего основания, то есть
																 если высота 0, то берем крайную нижнюю границу)
угол = угол результирующего тайла